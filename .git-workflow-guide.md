# Git Workflow Guide - Preventing Merge Conflicts

## The Problem

Merge conflicts keep happening because:
1. **Feature branches created from outdated `development`** - When you create a branch, if `development` has moved forward, you'll have conflicts
2. **Multiple PRs merging simultaneously** - If several PRs merge around the same time, they can conflict
3. **Not updating feature branches before merging** - Feature branches get stale

## The Solution

### ✅ Always Do This Before Creating a Feature Branch

```bash
# 1. Switch to development
git checkout development

# 2. Pull latest changes
git pull origin development

# 3. NOW create your feature branch
git checkout -b feature/your-feature-name
```

### ✅ Always Do This Before Opening a PR

```bash
# 1. Make sure you're on your feature branch
git checkout feature/your-feature-name

# 2. Fetch latest changes
git fetch origin

# 3. Rebase on latest development (this updates your branch with latest changes)
git rebase origin/development

# 4. If there are conflicts, resolve them, then:
git add .
git rebase --continue

# 5. Force push (since rebase rewrites history)
git push origin feature/your-feature-name --force-with-lease
```

### ✅ Alternative: Use Merge Instead of Rebase

If you prefer merges (keeps history but can be messier):

```bash
# 1. On your feature branch
git checkout feature/your-feature-name

# 2. Merge latest development into your branch
git merge origin/development

# 3. Resolve any conflicts, then:
git add .
git commit -m "chore: merge latest development"

# 4. Push
git push origin feature/your-feature-name
```

## Best Practices

1. **Keep feature branches short-lived** - Merge quickly to avoid conflicts
2. **One feature per branch** - Don't mix multiple features
3. **Pull before creating branches** - Always start from latest `development`
4. **Update before PR** - Rebase/merge latest `development` before opening PR
5. **Use `--force-with-lease`** - Safer than `--force` when force pushing

## Quick Reference

```bash
# Start new feature
git checkout development
git pull origin development
git checkout -b feature/my-feature

# Update feature branch before PR
git checkout feature/my-feature
git fetch origin
git rebase origin/development  # or: git merge origin/development
git push origin feature/my-feature --force-with-lease

# After PR is merged, clean up
git checkout development
git pull origin development
git branch -d feature/my-feature
```

